<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Harry Potter House Sorting</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@300;400;500&display=swap">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background: #0a0a0a;
      color: #f0f0f0;
      line-height: 1.6;
      min-height: 100vh;
      padding: 20px;
      transition: background 0.8s ease;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      padding: 30px 0;
    }

    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.8rem;
      margin-bottom: 10px;
      color: #d4af37;
      text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
    }

    .subtitle {
      font-size: 1.2rem;
      opacity: 0.9;
    }

    .house-intro {
      background: rgba(30, 30, 30, 0.7);
      border-radius: 12px;
      padding: 25px;
      margin: 30px 0;
      font-size: 1.05rem;
    }

    .house-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .house-card {
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      font-weight: 500;
      transition: transform 0.3s;
    }

    .house-card:hover {
      transform: translateY(-5px);
    }

    /* House Colors */
    .gryffindor-bg { background-color: rgba(180, 30, 30, 0.25); border-left: 4px solid #c00; }
    .ravenclaw-bg   { background-color: rgba(30, 80, 180, 0.25); border-left: 4px solid #1e50b4; }
    .hufflepuff-bg  { background-color: rgba(200, 160, 30, 0.25); border-left: 4px solid #c9a023; }
    .slytherin-bg   { background-color: rgba(30, 150, 50, 0.25); border-left: 4px solid #1a7d28; }

    .btn {
      background: #5e3c0d;
      color: #ffd700;
      border: none;
      padding: 12px 30px;
      font-size: 1.1rem;
      border-radius: 30px;
      cursor: pointer;
      margin: 20px auto;
      display: block;
      font-weight: 600;
      letter-spacing: 1px;
      transition: all 0.3s;
      box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    }

    .btn:hover {
      background: #7a4f12;
      transform: scale(1.05);
    }

    .question-section, .result-section {
      background: rgba(20, 20, 20, 0.85);
      border-radius: 16px;
      padding: 30px;
      margin-top: 30px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(5px);
      display: none;
    }

    .active {
      display: block !important;
    }

    .question-number {
      font-weight: bold;
      color: #d4af37;
      margin-bottom: 8px;
    }

    .question-text {
      font-size: 1.3rem;
      margin-bottom: 20px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .option-btn {
      background: rgba(70, 70, 70, 0.6);
      color: #f0f0f0;
      border: 2px solid #555;
      padding: 14px;
      text-align: left;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.25s;
    }

    .option-btn:hover {
      background: rgba(90, 90, 90, 0.8);
      border-color: #d4af37;
    }

    .option-btn.selected {
      background: rgba(212, 175, 55, 0.3);
      border-color: #d4af37;
      font-weight: 600;
    }

    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 25px;
    }

    .back-btn {
      background: #444;
      color: #ddd;
    }

    .result-content {
      text-align: center;
    }

    .house-title {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      margin: 20px 0;
      text-shadow: 0 0 12px rgba(255,255,255,0.6);
    }

    .house-emblem {
      width: 150px;
      height: 150px;
      margin: 0 auto 25px;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }

    .traits {
      font-size: 1.2rem;
      margin: 20px 0;
      padding: 15px;
      border-radius: 10px;
      background: rgba(0,0,0,0.3);
    }

    .fun-fact {
      font-style: italic;
      margin-top: 20px;
      color: #ccc;
    }

    .restart-btn {
      background: #3a2a0e;
      color: #ffd700;
      font-size: 1.2rem;
      padding: 14px 35px;
    }

    footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      font-size: 0.9rem;
      color: #aaa;
    }

    /* Responsive */
    @media (max-width: 600px) {
      h1 { font-size: 2.2rem; }
      .house-title { font-size: 2.3rem; }
      .house-emblem { width: 120px; height: 120px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ü™Ñ The Sorting Hat</h1>
      <p class="subtitle">Answer 10 questions and discover your true Hogwarts house!</p>
    </header>

    <section class="house-intro">
      <p>At Hogwarts School of Witchcraft and Wizardry, the Sorting Hat determines which of the four school Houses each new student belongs to:</p>
      <div class="house-grid">
        <div class="house-card gryffindor-bg">ü¶Å Gryffindor<br><small>Bravery, Courage, Boldness</small></div>
        <div class="house-card ravenclaw-bg">ü¶Ö Ravenclaw<br><small>Wisdom, Wit, Learning</small></div>
        <div class="house-card hufflepuff-bg">ü¶° Hufflepuff<br><small>Loyalty, Patience, Kindness</small></div>
        <div class="house-card slytherin-bg">üêç Slytherin<br><small>Ambition, Cunning, Resourcefulness</small></div>
      </div>
    </section>

    <button id="startBtn" class="btn">Begin Sorting Ceremony</button>

    <!-- Questions Section -->
    <section id="questionSection" class="question-section">
      <div class="question-number">Question <span id="qNum">1</span> of 10</div>
      <div class="question-text" id="qText">Placeholder question?</div>
      <div class="options" id="options"></div>
      <div class="nav-buttons">
        <button id="backBtn" class="btn back-btn">‚Üê Back</button>
        <button id="nextBtn" class="btn" disabled>Next ‚Üí</button>
      </div>
    </section>

    <!-- Results Section -->
    <section id="resultSection" class="result-section">
      <div class="result-content">
        <h2 class="house-title" id="resultHouse">Gryffindor</h2>
        <div class="house-emblem" id="emblem"></div>
        <div class="traits" id="traits">You are brave, daring, and chivalrous.</div>
        <p class="fun-fact" id="funFact">Fun Fact: Gryffindor‚Äôs common room is behind the portrait of the Fat Lady on the 7th floor.</p>
        <button id="restartBtn" class="btn restart-btn">‚Ü∫ Sort Again</button>
      </div>
    </section>

    <footer>
      <p>‚ú® Inspired by J.K. Rowling‚Äôs Wizarding World | For entertainment purposes only ‚ú®</p>
    </footer>
  </div>

  <script>
    // Questions & their point values per house
    const questions = [
      {
        text: "It's your first day at Hogwarts. What are you most excited to learn?",
        options: [
          { text: "Defence Against the Dark Arts ‚Äî I want to face danger head-on!", house: "gryffindor" },
          { text: "Ancient Runes or Arithmancy ‚Äî I love solving complex puzzles.", house: "ravenclaw" },
          { text: "Herbology ‚Äî nurturing magical plants sounds peaceful and meaningful.", house: "hufflepuff" },
          { text: "Potions ‚Äî mastering subtle, powerful magic gives me an edge.", house: "slytherin" }
        ]
      },
      {
        text: "A classmate is being bullied. You:",
        options: [
          { text: "Step in immediately, even if it puts me at risk.", house: "gryffindor" },
          { text: "Devise a clever plan to expose the bully without violence.", house: "ravenclaw" },
          { text: "Comfort the victim and rally friends to support them.", house: "hufflepuff" },
          { text: "Watch carefully ‚Äî if it benefits me, I may intervene later.", house: "slytherin" }
        ]
      },
      {
        text: "Which magical creature would you most like as a companion?",
        options: [
          { text: "Hippogriff ‚Äî majestic and proud, but loyal to those who earn respect.", house: "gryffindor" },
          { text: "Phoenix ‚Äî wise, healing, and symbolizes rebirth and knowledge.", house: "ravenclaw" },
          { text: "Niffler ‚Äî cheerful, curious, and loves helping others find treasure!", house: "hufflepuff" },
          { text: "Basilisk ‚Äî powerful, feared, and commands absolute authority.", house: "slytherin" }
        ]
      },
      {
        text: "Your friends are arguing. You:",
        options: [
          { text: "Jump in to defend whoever‚Äôs right ‚Äî truth matters more than peace.", house: "gryffindor" },
          { text: "Analyze both sides and offer a logical resolution.", house: "ravenclaw" },
          { text: "Listen to both, mediate gently, and help them empathize.", house: "hufflepuff" },
          { text: "Let them exhaust themselves ‚Äî then support the one most useful to me.", house: "slytherin" }
        ]
      },
      {
        text: "What‚Äôs your ideal weekend at Hogwarts?",
        options: [
          { text: "Exploring forbidden corridors or dueling in the Room of Requirement.", house: "gryffindor" },
          { text: "Reading in the library or experimenting with magical theory.", house: "ravenclaw" },
          { text: "Baking with house-elves, helping first-years, or tending the gardens.", house: "hufflepuff" },
          { text: "Networking with influential students or perfecting a powerful spell.", house: "slytherin" }
        ]
      },
      {
        text: "You‚Äôve made a serious mistake. You:",
        options: [
          { text: "Own up to it bravely ‚Äî integrity is everything.", house: "gryffindor" },
          { text: "Study what went wrong so I never repeat it.", house: "ravenclaw" },
          { text: "Apologize sincerely and make it right for everyone affected.", house: "hufflepuff" },
          { text: "Assess damage control ‚Äî image and perception matter most.", house: "slytherin" }
        ]
      },
      {
        text: "Which quality do you value most in a leader?",
        options: [
          { text: "Courage to stand up for what‚Äôs right.", house: "gryffindor" },
          { text: "Wisdom and strategic thinking.", house: "ravenclaw" },
          { text: "Fairness and compassion for all.", house: "hufflepuff" },
          { text: "Ambition and the will to win.", house: "slytherin" }
        ]
      },
      {
        text: "During exams, you‚Äôre most likely to:",
        options: [
          { text: "Ace Defence and Charms ‚Äî I learn by doing!", house: "gryffindor" },
          { text: "Top the class in theory-heavy subjects like Runes or Astronomy.", house: "ravenclaw" },
          { text: "Help classmates study ‚Äî we all succeed together.", house: "hufflepuff" },
          { text: "Score highly in Potions and Transfiguration ‚Äî precision and control matter.", house: "slytherin" }
        ]
      },
      {
        text: "You find a lost, enchanted diary that whispers secrets. You:",
        options: [
          { text: "Open it boldly ‚Äî secrets are meant to be uncovered!", house: "gryffindor" },
          { text: "Study its magic first ‚Äî knowledge protects me.", house: "ravenclaw" },
          { text: "Return it to the Lost & Found ‚Äî it might belong to someone worried.", house: "hufflepuff" },
          { text: "Keep it hidden ‚Äî power like this shouldn‚Äôt be wasted.", house: "slytherin" }
        ]
      },
      {
        text: "What legacy do you want to leave at Hogwarts?",
        options: [
          { text: "Remembered for standing up to injustice ‚Äî like Dumbledore or Potter.", house: "gryffindor" },
          { text: "Known for groundbreaking magical research or invention.", house: "ravenclaw" },
          { text: "Loved for kindness ‚Äî the friend everyone could count on.", house: "hufflepuff" },
          { text: "Feared and respected ‚Äî a name that opens every door.", house: "slytherin" }
        ]
      }
    ];

    // House data
    const houseData = {
      gryffindor: {
        name: "ü¶Å Gryffindor",
        bgColor: "#8B0000", // Dark red
        traits: "Bravery, Courage, Boldness, Chivalry, Nerve",
        fact: "Gryffindor‚Äôs founder, Godric Gryffindor, valued courage above all. Their sword appears to true Gryffindors in need.",
        emblem: "https://upload.wikimedia.org/wikipedia/en/thumb/7/72/Gryffindor_logo.svg/120px-Gryffindor_logo.svg.png"
      },
      ravenclaw: {
        name: "ü¶Ö Ravenclaw",
        bgColor: "#0F52BA", // Deep blue
        traits: "Wisdom, Wit, Intelligence, Creativity, Curiosity",
        fact: "Rowena Ravenclaw prized learning and cleverness. The entrance to their common room requires solving a riddle!",
        emblem: "https://upload.wikimedia.org/wikipedia/en/thumb/4/4e/Ravenclaw_logo.svg/120px-Ravenclaw_logo.svg.png"
      },
      hufflepuff: {
        name: "ü¶° Hufflepuff",
        bgColor: "#FFD700", // Gold (paired with black, but we use gold for bg)
        traits: "Loyalty, Patience, Kindness, Fairness, Hard Work",
        fact: "Helga Hufflepuff welcomed students of all backgrounds. Their mascot is the badger ‚Äî humble but fierce when needed.",
        emblem: "https://upload.wikimedia.org/wikipedia/en/thumb/0/06/Hufflepuff_logo.svg/120px-Hufflepuff_logo.svg.png"
      },
      slytherin: {
        name: "üêç Slytherin",
        bgColor: "#1A5B2E", // Forest green
        traits: "Ambition, Cunning, Resourcefulness, Leadership, Determination",
        fact: "Salazar Slytherin valued ambition and greatness. Many great witches and wizards ‚Äî including Merlin ‚Äî were Slytherins.",
        emblem: "https://upload.wikimedia.org/wikipedia/en/thumb/5/5d/Slytherin_logo.svg/120px-Slytherin_logo.svg.png"
      }
    };

    // DOM elements
    const startBtn = document.getElementById('startBtn');
    const questionSection = document.getElementById('questionSection');
    const resultSection = document.getElementById('resultSection');
    const qNumEl = document.getElementById('qNum');
    const qTextEl = document.getElementById('qText');
    const optionsEl = document.getElementById('options');
    const nextBtn = document.getElementById('nextBtn');
    const backBtn = document.getElementById('backBtn');
    const restartBtn = document.getElementById('restartBtn');

    // State
    let currentQuestion = 0;
    let answers = [];
    let points = { gryffindor: 0, ravenclaw: 0, hufflepuff: 0, slytherin: 0 };

    // Event Listeners
    startBtn.addEventListener('click', startQuiz);
    nextBtn.addEventListener('click', nextQuestion);
    backBtn.addEventListener('click', previousQuestion);
    restartBtn.addEventListener('click', restartQuiz);

    function startQuiz() {
      document.body.style.background = '#1e1e2e'; // Deep purple-night
      questionSection.classList.add('active');
      startBtn.style.display = 'none';
      renderQuestion();
    }

    function renderQuestion() {
      const q = questions[currentQuestion];
      qNumEl.textContent = currentQuestion + 1;
      qTextEl.textContent = q.text;

      optionsEl.innerHTML = '';
      q.options.forEach((opt, idx) => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = opt.text;
        btn.onclick = () => selectOption(opt.house, btn);
        optionsEl.appendChild(btn);
      });

      backBtn.style.display = currentQuestion === 0 ? 'none' : 'inline-block';
      nextBtn.disabled = true;
    }

    function selectOption(house, btn) {
      // Remove previous selection
      document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      answers[currentQuestion] = house;
      points[house] += 1;
      nextBtn.disabled = false;
    }

    function nextQuestion() {
      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        renderQuestion();
      } else {
        calculateResult();
      }
    }

    function previousQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        renderQuestion();
        // Restore selection if exists
        if (answers[currentQuestion]) {
          const btns = document.querySelectorAll('.option-btn');
          const optIndex = questions[currentQuestion].options.findIndex(opt => opt.house === answers[currentQuestion]);
          if (optIndex >= 0) btns[optIndex].classList.add('selected');
          nextBtn.disabled = false;
        }
      }
    }

    function calculateResult() {
      // Find house with highest points (tie-breaker: order of preference: Gryff, Raven, Huff, Slyt)
      let maxHouse = 'gryffindor';
      let maxPoints = points.gryffindor;

      if (points.ravenclaw > maxPoints) { maxPoints = points.ravenclaw; maxHouse = 'ravenclaw'; }
      if (points.hufflepuff > maxPoints) { maxPoints = points.hufflepuff; maxHouse = 'hufflepuff'; }
      if (points.slytherin > maxPoints) { maxHouse = 'slytherin'; }

      showResult(maxHouse);
    }

    function showResult(house) {
      const data = houseData[house];
      
      // Update result UI
      document.getElementById('resultHouse').textContent = data.name;
      document.getElementById('traits').textContent = `You embody: ${data.traits}.`;
      document.getElementById('funFact').textContent = data.fact;
      document.getElementById('emblem').style.backgroundImage = `url(${data.emblem})`;

      // Apply background color
      document.body.style.background = data.bgColor;

      // Show result section
      questionSection.classList.remove('active');
      resultSection.classList.add('active');
    }

    function restartQuiz() {
      currentQuestion = 0;
      answers = [];
      points = { gryffindor: 0, ravenclaw: 0, hufflepuff: 0, slytherin: 0 };
      document.body.style.background = '#0a0a0a';
      resultSection.classList.remove('active');
      startBtn.style.display = 'block';
    }
  </script>
</body>
</html>
